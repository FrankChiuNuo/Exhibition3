<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¬¬ä¸‰å±•å€ï¼šé›™é¢é¡</title>
    <style>
        :root { 
            --bg: #050505; 
            --green: #00ff41; 
            --red: #ff3333;
            --warm: #fffcf5; 
        }
        body { background: var(--bg); color: #ddd; font-family: 'Microsoft JhengHei', monospace; height: 100vh; display: flex; flex-direction: column; align-items: center; margin: 0; user-select: none; overflow: hidden; }
        
        /* ç§»é™¤åŸæœ¬çš„ .home-btn æ¨£å¼ */

        .nav { margin-top: 60px; display: flex; gap: 15px; z-index: 10; }
        .nav button { background: none; border: 1px solid #444; color: #888; padding: 10px 20px; cursor: pointer; transition: 0.3s; font-size: 1rem; }
        .nav button:hover, .nav button.active { border-color: var(--green); color: var(--green); box-shadow: 0 0 10px rgba(0, 255, 65, 0.2); }

        .mirror-container { width: 90%; max-width: 800px; height: 450px; border: 2px solid #333; margin-top: 30px; position: relative; background: #000; overflow: hidden; box-shadow: 0 0 30px rgba(0,0,0,0.5); }
        
        /* çœŸå¯¦å±¤ (åº•å±¤) */
        .real-layer { position: absolute; width: 100%; height: 100%; background: var(--warm); color: #333; display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center; padding: 40px; box-sizing: border-box; transition: opacity 0.5s; }
        .real-icon { font-size: 4rem; margin-bottom: 20px; }
        .real-quote { font-size: 1.3rem; line-height: 1.6; font-style: italic; font-weight: bold; max-width: 600px; }
        .real-name { margin-top: 20px; color: #666; border-top: 1px solid #ccc; padding-top: 10px; }

        /* é›œè¨Šå±¤ (é®ç½©) */
        .noise-layer { position: absolute; top: 0; left: 0; width: 90%; height: 100%; background: #111; overflow: hidden; border-right: 4px solid var(--green); }
        .tag { position: absolute; color: rgba(255,255,255,0.2); white-space: nowrap; font-family: monospace; }
        .tag.highlight { color: var(--red); font-weight: bold; opacity: 0.8; font-size: 1.5rem; text-shadow: 2px 2px 0 #000; z-index: 2; }

        /* æ‹–æ›³æ‰‹æŠŠ */
        .handle { position: absolute; left: 90%; top: 50%; transform: translate(-50%, -50%); background: #000; color: var(--green); border: 1px solid var(--green); padding: 10px 15px; border-radius: 30px; cursor: ew-resize; z-index: 20; font-weight: bold; box-shadow: 0 0 15px var(--green); }

        /* ç•™è¨€å€ */
        .input-section { margin-top: 30px; opacity: 0; transition: 1s; text-align: center; transform: translateY(20px); pointer-events: none; z-index: 20; position: relative;}
        .input-section.show { opacity: 1; transform: translateY(0); pointer-events: auto; }
        
        input { padding: 12px; width: 250px; background: #222; border: 1px solid #444; color: #fff; border-radius: 4px; outline: none; }
        button.send { padding: 12px 25px; background: var(--green); color: #000; border: none; cursor: pointer; border-radius: 4px; font-weight: bold; margin-left: 10px; }
        button.send:hover { box-shadow: 0 0 15px var(--green); }

        /* æ˜Ÿç©ºç‰¹æ•ˆ */
        #stars-bg { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 1; }
        .star { position: absolute; color: rgba(255,255,255,0.4); animation: float 15s linear forwards; pointer-events: none; font-size: 0.9rem; white-space: nowrap;}
        
        /* ä½¿ç”¨è€…ç™¼é€çš„æ˜Ÿæ˜Ÿæ¨£å¼ */
        .star.user-sent {
            color: #00ff41;
            font-size: 1.8rem;
            font-weight: bold;
            text-shadow: 0 0 15px #00ff41;
            z-index: 100;
            animation: floatUser 8s linear forwards; /* é€Ÿåº¦ç¨å¿«ä¸€é» */
        }

        @keyframes float { from { transform: translateY(110vh); opacity: 0; } 10% { opacity: 1; } to { transform: translateY(-10vh); opacity: 0; } }
        @keyframes floatUser { from { transform: translateY(100vh); opacity: 0; } 5% { opacity: 1; } to { transform: translateY(-20vh); opacity: 0; } }
    </style>
</head>
<body>
    <!-- ç§»é™¤äº† <a href="index.html" class="home-btn">â† å›å¤§å»³</a> -->

    <div class="nav">
        <button onclick="loadProfile(0)" class="active">åˆºé’å£¯æ¼¢</button>
        <button onclick="loadProfile(1)">ç¨å±…é•·è¼©</button>
        <button onclick="loadProfile(2)">è·¨æ€§åˆ¥è€…</button>
    </div>

    <div class="mirror-container" id="stage">
        <div class="real-layer" id="real">
            <div class="real-icon" id="icon"></div>
            <div class="real-quote" id="quote"></div>
            <div class="real-name" id="name"></div>
        </div>
        <div class="noise-layer" id="mask">
            <div id="tags-container"></div>
        </div>
        <div class="handle" id="handle">â†”</div>
    </div>

    <div class="input-section" id="input-sec">
        <p style="color: #aaa; margin-bottom: 15px;">çœ‹è¦‹çœŸå¯¦å¾Œï¼Œä½ æƒ³ç”¨ä»€éº¼è©é‡æ–°å®šç¾©ä»–/å¥¹ï¼Ÿ</p>
        <input type="text" id="msg" placeholder="ä¾‹å¦‚ï¼šå‹‡æ•¢ã€åšè‡ªå·±..." autocomplete="off">
        <button class="send" onclick="send()">é€å‡ºç¥ç¦</button>
    </div>

    <div id="stars-bg"></div>

    <script>
        const profiles = [
            {
                icon: "ğŸ’ª", 
                name: "- é˜¿è™ (32æ­²), å¹¼å…’åœ’å¿—å·¥", 
                quote: "ã€Œå¤å¤©æˆ‘ä¹Ÿå …æŒç©¿é•·è¢–ï¼Œå› ç‚ºæ€•åš‡åˆ°ç­ä¸Šçš„å°æœ‹å‹ã€‚<br>æˆ‘æ‰‹è‡‚ä¸Šçš„åˆºé’ï¼Œæ˜¯ç‚ºäº†ç´€å¿µè»Šç¦éä¸–çš„å¼Ÿå¼Ÿã€‚ã€", 
                tags: ["æµæ°“", "8+9", "é»‘é“", "å¸æ¯’", "ç¤¾æœƒäº‚æº", "å‰ç§‘çŠ¯", "å…‡ç¥æƒ¡ç…", "æ’¿è§’", "æš´åŠ›", "æ²’æ•‘äº†", "ä¸å­¸å¥½", "æ··å¹«æ´¾", "å±éšªä»½å­", "ä½ç«¯äººå£", "æ²’å®¶æ•™", "ä¸å‹™æ­£æ¥­", "çœ‹èµ·ä¾†å¾ˆæ´¾", "å¯æ€•", "åˆºé¾åˆºé³³"]
            },
            {
                icon: "ğŸ‘“", 
                name: "- é™³çˆºçˆº (76æ­²), é€€ä¼‘å¸æ©Ÿ", 
                quote: "ã€Œæˆ‘å…¶å¯¦å¾ˆæƒ³å­¸æ€éº¼ç”¨æ‰‹æ©Ÿè½‰å¸³çµ¦å­«å­...<br>ä½†æˆ‘æ€•å•äº†åˆè¢«å«Œç…©ï¼Œåªèƒ½è‡ªå·±å»æ«ƒæª¯æ…¢æ…¢å¼„ã€‚ã€", 
                tags: ["è€å®³", "æƒ…ç·’å‹’ç´¢", "è·Ÿä¸ä¸Šæ™‚ä»£", "éº»ç…©", "æµªè²»è³‡æº", "å›ºåŸ·", "å€šè€è³£è€", "ä¸‰å¯¶", "éæ™‚", "ä¸è¬›ç†", "å‹•ä½œæ…¢", "ä½”ç”¨æ«ƒæª¯", "è€ç•ªç™²", "è½ä¸æ‡‚äººè©±", "é˜»ç¤™é€²æ­¥", "è€å¤æ¿", "é ‘å›º", "åªæœƒæ·»äº‚"]
            },
            {
                icon: "ğŸ³ï¸â€âš§ï¸", 
                name: "- Alice (26æ­²), è»Ÿé«”å·¥ç¨‹å¸«", 
                quote: "ã€Œæˆ‘å»å¥³å»è¢«è¶•å‡ºä¾†ï¼Œå»ç”·å»è¢«å˜²ç¬‘ã€‚<br>æˆ‘åŠªåŠ›å·¥ä½œã€æŒ‰æ™‚ç¹³ç¨…ï¼Œåªæ˜¯å¸Œæœ›èƒ½ä»¥éˆé­‚çœŸå¯¦çš„æ¨£å­ç”Ÿæ´»ï¼Œç‚ºä»€éº¼é€™éº¼é›£ï¼Ÿã€", 
                tags: ["è®Šæ…‹", "äººå¦–", "ä¸ç”·ä¸å¥³", "å™å¿ƒ", "æœ‰ç—…è¦é†«", "é•åè‡ªç„¶", "æ½›åœ¨ç½ªçŠ¯", "æ€§åˆ¥éŒ¯äº‚", "ä¸çŸ¥ç¾æ¥", "å¿ƒç†è®Šæ…‹", "ç”·æ‰®å¥³è£", "åšçœ¼çƒ", "ç¤¾æœƒæ¯’ç˜¤", "ä¸æ•¢é è¿‘", "å¥½æ€ª", "ç²¾ç¥ç•°å¸¸", "è®Šè£ç™–"]
            }
        ];

        let isDragging = false;
        let isInputShown = false;

        window.onload = () => {
            loadProfile(0);
            startFloatingStars();
        };

        function loadProfile(index) {
            document.querySelectorAll('.nav button').forEach((btn, i) => {
                btn.className = i === index ? 'active' : '';
            });

            const realLayer = document.getElementById('real');
            realLayer.style.opacity = 0;
            
            setTimeout(() => {
                const p = profiles[index];
                document.getElementById('icon').innerText = p.icon;
                document.getElementById('quote').innerHTML = p.quote;
                document.getElementById('name').innerText = p.name;
                
                generateTags(p.tags);
                
                realLayer.style.opacity = 1;
            }, 200);

            // é‡ç½®æ»‘æ¡¿
            updateSlider(90);
            
            // éš±è—ç•™è¨€å€ä¸¦æ¸…ç©ºè¼¸å…¥æ¡†
            document.getElementById('input-sec').className = 'input-section';
            document.getElementById('msg').value = ''; 
            isInputShown = false;

            // é‡è¦ä¿®æ”¹ï¼šåˆ‡æ›è§’è‰²æ™‚æ¸…ç©ºèƒŒæ™¯çš„æ˜Ÿæ˜Ÿ
            document.getElementById('stars-bg').innerHTML = '';
        }

        function generateTags(tags) {
            const container = document.getElementById('tags-container');
            container.innerHTML = "";
            
            let shuffledTags = [...tags].sort(() => 0.5 - Math.random());
            while (shuffledTags.length < 40) {
                shuffledTags = shuffledTags.concat([...tags].sort(() => 0.5 - Math.random()));
            }

            for(let i=0; i<40; i++) {
                let span = document.createElement('span');
                span.className = 'tag';
                if(Math.random() > 0.75) span.classList.add('highlight');
                span.innerText = shuffledTags[i];
                span.style.left = Math.random() * 90 + '%';
                span.style.top = Math.random() * 90 + '%';
                span.style.fontSize = (Math.random() * 1.2 + 0.8) + 'rem';
                span.style.transform = `rotate(${Math.random() * 40 - 20}deg)`;
                container.appendChild(span);
            }
        }

        const stage = document.getElementById('stage');
        const handle = document.getElementById('handle');

        handle.addEventListener('mousedown', (e) => { isDragging = true; e.preventDefault(); });
        window.addEventListener('mouseup', () => isDragging = false);
        window.addEventListener('mousemove', onMove);

        handle.addEventListener('touchstart', (e) => { isDragging = true; e.preventDefault(); });
        window.addEventListener('touchend', () => isDragging = false);
        window.addEventListener('touchmove', onMove);

        function onMove(e) {
            if(!isDragging) return;
            let clientX = e.clientX || e.touches[0].clientX;
            let rect = stage.getBoundingClientRect();
            let x = clientX - rect.left;
            let p = (x / rect.width) * 100;
            if(p < 0) p = 0;
            if(p > 100) p = 100;
            updateSlider(p);
        }

        function updateSlider(p) {
            document.getElementById('mask').style.width = p + '%';
            document.getElementById('handle').style.left = p + '%';
            if(p < 15 && !isInputShown) {
                isInputShown = true;
                document.getElementById('input-sec').className = 'input-section show';
            }
        }

        function send() {
            let val = document.getElementById('msg').value.trim();
            if(!val) return;
            
            // é—œéµä¿®æ”¹ï¼šç¢ºä¿æ˜Ÿæ˜Ÿç”¢ç”Ÿåœ¨ç•«é¢åº•éƒ¨ä¸¦å¾€ä¸Šé£„
            createStar(val, true);
            
            document.getElementById('msg').value = "";
            // alert("âœ¨ æ‚¨çš„ç¥ç¦å·²é€å‡ºï¼Œæ„Ÿè¬æ‚¨æ’•ä¸‹æ¨™ç±¤ã€‚"); // å¦‚æœè¦ºå¾—å½ˆçª—æœƒæ‰“æ–·é«”é©—ï¼Œå¯ä»¥æ‹¿æ‰é€™è¡Œ
        }

        function startFloatingStars() {
            const presets = ["è¾›è‹¦äº†", "å‹‡æ•¢", "æº«æŸ”", "ä¸å­¤å–®", "åŠ æ²¹", "å€¼å¾—è¢«æ„›", "æ…¢æ…¢ä¾†", "å¾ˆæ£’", "åšè‡ªå·±", "å …å¼·"];
            setInterval(() => {
                let text = presets[Math.floor(Math.random() * presets.length)];
                createStar(text, false);
            }, 2000);
        }

        function createStar(text, isUser) {
            let div = document.createElement('div');
            div.innerText = text;
            
            // è¨­å®šä½ç½®ï¼šç¢ºä¿éš¨æ©Ÿ X è»¸
            div.style.left = Math.random() * 80 + 10 + '%'; // 10%~90% ç¯„åœï¼Œé¿å…å¤ªé é‚Š
            
            if(isUser) {
                div.className = 'star user-sent'; // ä½¿ç”¨æ–°çš„ user-sent é¡åˆ¥
            } else {
                div.className = 'star';
            }
            
            document.getElementById('stars-bg').appendChild(div);
            
            // å‹•ç•«çµæŸå¾Œç§»é™¤
            setTimeout(() => div.remove(), 15000);
        }
    </script>
</body>
</html>